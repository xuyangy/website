[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "projects/wgs_upscale/wgs_upscaling_bioinf.html",
    "href": "projects/wgs_upscale/wgs_upscaling_bioinf.html",
    "title": "WGS Upscaling - IT & Bioinformatics Evaluation",
    "section": "",
    "text": "GDx at OUSAMG is planning to upscale the WGS production to 4 x 48 samples or 2 x 48 + 1 x 96 samples per week.\nThis document evaluates the possible bottlenecks of IT & bioinformatics pipelines in following areas:\n\nData transfer speed\nData storage\nPipeline capacity (Illumina DRAGEN)"
  },
  {
    "objectID": "projects/wgs_upscale/wgs_upscaling_bioinf.html#data-transfer-speed",
    "href": "projects/wgs_upscale/wgs_upscaling_bioinf.html#data-transfer-speed",
    "title": "WGS Upscaling - IT & Bioinformatics Evaluation",
    "section": "2.1 Data transfer speed",
    "text": "2.1 Data transfer speed\n\n2.1.1 Collect Historical Data Transfer Records\nTo evaluate the data transfer speed, we collected the transfer time of all files that were transferred from NSC to TSD between 2023-09-01 08:41:40 and 2023-11-28 13:26:06 from the nsc-exporter. The nsc-exporter is the tool that is used to transfer data from NSC to TSD.\n\n\n\n\n\n\nexamples of collected data\n\n\n\n\n\n\n\n         [,1]                                            \ndatetime \"2023-11-16 04:44:26\"                           \nproject  \"wgs331\"                                        \nfilename \"Diag-wgs331-HG36307538-DR.alignedMTshifted.bam\"\nbytes    \"37653007\"                                      \nseconds  \"0.8\"                                           \nspeed    \"44340000\"                                      \n         [,1]                                           \ndatetime \"2023-11-03 15:37:54\"                          \nproject  \"wgs327\"                                       \nfilename \"HG23724890-Custom-KIT-wgs_S17_R1_001.fastq.gz\"\nbytes    \"39598585010\"                                  \nseconds  \"515.2\"                                        \nspeed    \"73300000\"                                     \n         [,1]                                \ndatetime \"2023-09-15 14:36:45\"               \nproject  \"wgs312\"                            \nfilename \"Diag-wgs312-64016903202-FM.cnv.vcf\"\nbytes    \"239225\"                            \nseconds  \"0.1\"                               \nspeed    \"4060000\"                           \n         [,1]                              \ndatetime \"2023-09-02 22:00:54\"             \nproject  \"EKG230830\"                       \nfilename \"Diag-EKG230830-HG62971010.sample\"\nbytes    \"1549\"                            \nseconds  \"0\"                               \nspeed    \"39410\"                           \n         [,1]                                                                        \ndatetime \"2023-11-18 16:12:52\"                                                       \nproject  \"wgs332\"                                                                    \nfilename \"231115_A00943_0786_BHMW5CDSX7.HG03470649-Iktyose-KIT-wgs_S19_R1_001.qc.pdf\"\nbytes    \"118047\"                                                                    \nseconds  \"0.2\"                                                                       \nspeed    \"750500\"                                                                    \n\n\n\n\n\n\n\n\n\n\n\nThe nsc-exporter log files and the sequencer overview html files were ignored for simplicity. 1\n\n\n\n\n\n\n\n\n2.1.2 Data Overview\n\nFile SizeTransfer SpeedTransfer Time\n\n\nThe file size of the collected data ranges from 0.0 B to 100.9 GiB. The average file size is 1.5 GiB. The median file size is 9.3 KiB. The standard deviation is 8.1 GiB.\n\n\n\n\n         filesize\nMin.        0.0 B\n1st Qu.   428.0 B\nMedian    9.3 KiB\nMean      1.5 GiB\n3rd Qu. 968.0 KiB\nMax.    100.9 GiB\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe transfer speed ranges from 1.0 B to 93.1 MiB. The average transfer speed is 12.2 MiB. The median transfer speed is 288.1 KiB. The standard deviation is 23.4 MiB.\n\n\n\n\n        speed(/s)\nMin.        1.0 B\n1st Qu.  12.0 KiB\nMedian  288.1 KiB\nMean     12.2 MiB\n3rd Qu.   8.4 MiB\nMax.     93.1 MiB\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe transfer time ranges from 0 seconds to 2084.4 seconds. The average transfer time is 19.6 seconds. The median transfer time is 0 seconds. The standard deviation is 104.3 seconds.\n\n\n\n\n    seconds       \n Min.   :   0.00  \n 1st Qu.:   0.00  \n Median :   0.00  \n Mean   :  19.56  \n 3rd Qu.:   0.10  \n Max.   :2084.40  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2.1.3 Correlation Between File Size And Transfer Time And Transfer Speed\n\n\n2.1.3.1 Transfer speed and time VS file size (all files)\nSmall files have lower transfer speed. A good transfer speed around 80 MB/s is achieved for files larger than 30 GB.\n\n\n\n\n                        \n                                            \nFigure 1: Transfer speed VS file size (all files)\n\n\n\n\n\n\n\n                        \n                                            \nFigure 2: Transfer time VS file size (all files)\n\n\n\n\n\n2.1.3.2 Transfer speed and time VS file size (small files)\nAlthough the transfer speed of small files are very low; the transfer time is usually very short. So small files are not the bottleneck of the data transfer.\n\n\n\n\n                        \n                                            \nFigure 3: Transfer speed VS file size (small files)\n\n\n\n\n\n\n\n                        \n                                            \nFigure 4: Transfer time VS file size (small files)\n\n\n\n\n\n2.1.3.3 Maximum transfer reached around 200MB file size?\nSmall files have lower transfer speed. Large files have higher transfer speed. But it looks like best transfer speed is observed for files with sizearound 200 MB file size.\n\n\n\n\n                        \n                                            \nFigure 5: maximum transfer speed reached around 200MB file size\n\n\n\n\n\n\n2.1.4 Idle Time\nTo evaluate whether there is capacity for upscaling, we need to know the idle time of the nsc-exporter. The nsc-exporter is idle when it is not transferring data.\nAll transfer records are plotted with starting time of each transfer on x-axis and the time used to finished the transfer on y-axis. The gaps represnts idle periods of nsc-exporter. The color represents projects, e.g. wgs123, EKG20230901 etc.. The shape represents project type, e.g. wgs, EKG etc. You can turn off a project by clicking it in the legend to the right of the figure.\nFor easier visualization, the data is grouped in months.\n\n2.1.4.1 September\n\n\n\n\n                        \n                                            \nFigure 6: All transfers in September in time order\n\n\n\n\n\n\n\n                        \n                                            \nFigure 7: Idle time in September\n\n\n\n\n\n\n\n                        \n                                            \nFigure 8: Idle time in September (logarithmic time)\n\n\n\n\n\n\n\n\n\nCaution\n\n\n\nTotal absolute time used for transferring files in September is 8 days, 20 hours, 35 minutes and 57 seconds.\n\n\n\n\n2.1.4.2 October\n\n\n\n\n                        \n                                            \nFigure 9: All transfers in October in time order\n\n\n\n\n\n\n\n                        \n                                            \nFigure 10: Idle time in October\n\n\n\n\n\n\n\n                        \n                                            \nFigure 11: Idle time in October (logarithmic time)\n\n\n\n\n\n\n\n\n\nCaution\n\n\n\nTotal absolute time used for transferring files in October is 9 days, 15 hours, 58 minutes and 4.40 seconds.\n\n\n\n\n2.1.4.3 November\n\n\n\n\n                        \n                                            \nFigure 12: All transfers in November in time order\n\n\n\n\n\n\n\n                        \n                                            \nFigure 13: Idle time in November\n\n\n\n\n\n\n\n                        \n                                            \nFigure 14: Idle time in November (logarithmic time)\n\n\n\n\n\n\n\n\n\nCaution\n\n\n\nTotal absolute time used for transferring files in November is 10 days, 14 hours, 58 minutes and 14.30 seconds.\n\n\n\n\n\n2.1.5 Discussion\n\n2.1.5.1 Do we transfer too many small files?\n\n\n\n\n                        \n                                            \nFigure 15: total number of small files vs large files\n\n\n\n\n\n\n\n                        \n                                            \nFigure 16: total time used for transferring small files\n\n\n\n\n\n\n\n\n\nraw data\n\n\n\n\n\n\n\n\n\nthreshold\nsmall files\nlarge files\n\n\n\n\n1\n&lt;100 kB\n1892\n2516443\n\n\n2\n&lt;1 MB\n4026\n2514309\n\n\n3\n&lt;10 MB\n6528\n2511807\n\n\n4\n&lt;100 MB\n10266\n2508069\n\n\n5\n&lt;1 GB\n36881\n2481455\n\n\n\n\n\n\n\n\n2.1.5.2 Possibility Of One More 48-sample Run Per Week\n\nThe nsc-exporter is idle for quite a portion of the time.\n\nQuite long idle time in September observed Figure 6.\nAlmost 12 wgs projects were transferred in November.\n\nThe maximum transfer speed is reached around 200 MB file size Figure 5. This is the configured chunk size of s3cmd which is the tool used by nsc-exporter for data transfer. We might want to increase the chunk size to improve the transfer speed?\nThe current transfer speed is not optimal considering the 10Gbps switch connecting NSC and TSD. We need to investigate the reason for the low transfer speed.\n\n\n\n\n2.1.6 Conclusion\n\nWe might be able to run 4 x 48 or 2 x 48 + 1 x 96 samples per week with the current transfer speed. However, we will reach maximum capicity of data transfer.\nIf we can increase the transfer speed, e.g. reaching 200MB/s, we can easily double current production capacity."
  },
  {
    "objectID": "projects/wgs_upscale/wgs_upscaling_bioinf.html#data-storage",
    "href": "projects/wgs_upscale/wgs_upscaling_bioinf.html#data-storage",
    "title": "WGS Upscaling - IT & Bioinformatics Evaluation",
    "section": "2.2 Data storage",
    "text": "2.2 Data storage\nWGS produces large amount of data. The data storage capacity is critical for the upscaling.\n\n2.2.1 NSC\nOn NSC side, the data is stored in on boston at /boston/diag. Boston has a total capacity of 1.5 PB, and the usable capacity is 1.2 at the moment.\n\n\n2.2.2 TSD\nOn TSD side, the data is stored in /cluster/projects/p22. The total capacity is 1.8 PB, and the usable capacity is 1.2 PB at the moment."
  },
  {
    "objectID": "projects/wgs_upscale/wgs_upscaling_bioinf.html#pipeline-capacity-illumina-dragen",
    "href": "projects/wgs_upscale/wgs_upscaling_bioinf.html#pipeline-capacity-illumina-dragen",
    "title": "WGS Upscaling - IT & Bioinformatics Evaluation",
    "section": "2.3 Pipeline capacity (Illumina DRAGEN)",
    "text": "2.3 Pipeline capacity (Illumina DRAGEN)\nIllunima DRAGEN is a bioinformatics pipeline server that can be used to process WGS data. It takes around 1 hours to process a 30x WGS sample."
  },
  {
    "objectID": "projects/wgs_upscale/wgs_upscaling_bioinf.html#footnotes",
    "href": "projects/wgs_upscale/wgs_upscaling_bioinf.html#footnotes",
    "title": "WGS Upscaling - IT & Bioinformatics Evaluation",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nThe nsc-exporter log and sequencer overview html files are very small files and do not belong to any projects. They are always transferred in a very short time. They will not affect the transfer speed of other files. Therefore, they are ignored for simplicity.↩︎"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Cool Website",
    "section": "",
    "text": "This is my cool website which is empty right now."
  }
]